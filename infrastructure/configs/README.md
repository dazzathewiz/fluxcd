# Infrastructure Configs

## 1Password provider using External Secrets Operator
See: [1Password Connect](../doc-1password)

## Notify and Alerts `notify-slack.yaml`
- A slack URL is configured in 1Password `fluxcd-slackurl`
- The URL secret `fluxcd-slackurl` syncronised from 1Password
- A `slack` provider type is configured
- `on-call-webapp` Alert is configured with default settings

### Sources
[Flux Guide][https://fluxcd.io/flux/guides/notifications/]
[TechnoTim Guide][https://docs.technotim.live/posts/flux-devops-gitops/]

## Traefik & Cert-Manager

ðŸ“º [Watch the TechnoTim Video](https://www.youtube.com/watch?v=G4CmbYL9UPg)

- A Base64 encoded BasicAuth string is imported via 1Password to `traefik-dashboard-auth`
    Note this is generated by htpasswd `htpasswd -nb <user> <password> | openssl base64`
- `traefik.inf.dazzathewiz.com` is a DNS resolvable name pointing to the trafik Controller `loadBalancerIP`

### Sources
[FluxCD example of cert-manager helm release][https://geek-cookbook.funkypenguin.co.nz/kubernetes/ssl-certificates/cert-manager/]
[Cert-Manager ClusterIssuer manifests][https://docs.gitops.weave.works/docs/guides/cert-manager/]
